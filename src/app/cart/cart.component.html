<div>

  <div fxLayout="row" fxLayoutAlign="center" fxLayoutGap="5px">
    <div fxFlex="70">
      <mat-table [dataSource]="dataSource" class="mat-elevation-z8 cart-table">
        <ng-container matColumnDef="name">
          <mat-header-cell *matHeaderCellDef>Item</mat-header-cell>
          <mat-cell *matCellDef="let entry">
            <mat-list>
              <mat-list-item>
                <h3 mat-line>{{entry.product.name}}</h3>
                <p mat-line class="stock">Stock: {{entry.product.stock}}</p>
              </mat-list-item>
            </mat-list>
          </mat-cell>
          <mat-footer-cell *matFooterCellDef><span class="subtotal">Subtotal</span></mat-footer-cell>
        </ng-container>

        <ng-container matColumnDef="quantity">
          <mat-header-cell mat-header-cell *matHeaderCellDef>Quantity</mat-header-cell>
          <mat-cell *matCellDef="let entry">{{entry.quantity}}</mat-cell>
          <mat-footer-cell *matFooterCellDef> {{getTotalCount() | async }} </mat-footer-cell>
        </ng-container>

        <ng-container matColumnDef="price">
          <mat-header-cell mat-header-cell *matHeaderCellDef>Price</mat-header-cell>
          <mat-cell *matCellDef="let entry">{{entry.quantity * entry.product.price | currency}}</mat-cell>
          <mat-footer-cell *matFooterCellDef> {{getTotalCost() | async | currency}} </mat-footer-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        <mat-footer-row *matFooterRowDef="displayedColumns"></mat-footer-row>
      </mat-table>
    </div>
    <div fxFlex="30">
      <app-cart-total></app-cart-total>
    </div>
  </div>




</div>
